# FAST API

## ğŸŒ What is an API?

An **API** is a **set of rules** that lets two **software programs talk to each other**.

**API = Application Programming Interface**

- It lets **two applications talk** to each other.
- Like a **waiter** in a restaurant: you place an order (request), and it brings you food (response).

### âœ… Example:

You use a weather app â†’ it asks a weather API â†’ gets the data â†’ shows it to you.

---

## âš¡ What is FastAPI?

**FastAPI** is a **Python framework** used to **build APIs** â€” especially **fast and easy-to-use** APIs.

### âœ… Key features:

- ğŸš€ **Fast** (high performance)
- ğŸ“ **Automatic docs** (you get Swagger UI automatically)
- ğŸ” **Easy to validate** input
- âœ… Used for web apps, ML models, automation, etc.

---

## ğŸ” How it works:

You create **endpoints** (URLs) where people or apps can send requests.

### Example FastAPI:

```python

from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"message": "Hello from FastAPI!"}

```

- You open `http://localhost:8000/` â†’ see the message.
- This is an **API endpoint**.

---

## ğŸ“Œ Summary:

| Term | Meaning |
| --- | --- |
| API | A way for apps to communicate |
| FastAPI | A Python tool to create APIs easily |

### Instruction

| Commands | Function |
| --- | --- |
| GET | To see content we send GET request |
| POST | **POST request** in web development when we want to **send data to the server** to create or update a resource. |
| PUT | PUT is used when you want to send data to the server to *update* something that already exists. |
| DELETE | A **DELETE** request is used to **remove** a resource from the server. |

### âœ… What is a **Virtual Environment** in Python?

A **virtual environment** is a **self-contained folder** where you install Python libraries â€” **separate** from your systemâ€™s global Python.

---

### ğŸ¯ Why do we use virtual environments?

| Reason | Explanation |
| --- | --- |
| âœ… **Avoid conflicts** | Different projects may need different library versions. Virtual environments keep them separate. |
| âœ… **Keep projects clean** | Each project has only the libraries it needs. |
| âœ… **Safe testing** | You can experiment without affecting your global Python or other projects. |

### ğŸ”¹ **1. Core tools (used internally by FastAPI)**

| Tool | What it does in REST context |
| --- | --- |
| **Starlette** | Handles routing, requests, responses, middleware (REST backbone) |
| **Pydantic** | Validates JSON input and output using Python types |
| **ASGI** | Enables async I/O for non-blocking REST requests |
| **Uvicorn** | Runs your REST API server (like a web server for FastAPI) |

## ğŸ“¬ What is **Postman**?

**Postman** is a **tool** used to **test, send, and manage APIs**.

It's like a **remote control** to interact with APIs without writing code.

---

## ğŸ”§ What can you do with Postman?

| Feature | Description |
| --- | --- |
| ğŸ”„ Send Requests | Make `GET`, `POST`, `PUT`, `DELETE`, etc. requests to APIs. |
| ğŸ“¦ Add Data | Send JSON, form data, files, etc. to an API. |
| ğŸ” Set Headers | Add API keys, tokens, and other headers. |
| ğŸ“‹ View Responses | See status codes, response body, time, and more. |
| ğŸ§ª Test APIs | Write test scripts to automate checking API results. |
| ğŸ“ Save & Share | Save API collections and share them with teams. |

## ğŸš€ FastAPI HTTP Request Syntax

### âœ… 1. `GET` â†’ *Retrieve data*

```python

from fastapi import FastAPI

app = FastAPI()

@app.get("/items/{item_id}")
def read_item(item_id: int):
    return {"item_id": item_id}

```

ğŸ”¹ **Use case**: Get a specific item by ID

ğŸ”¹ **Browser/Postman**: `GET http://localhost:8000/items/1`

---

### ğŸ“ 2. `POST` â†’ *Create data*

```python

from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    price: float

@app.post("/items/")
def create_item(item: Item):
    return {"message": "Item created", "item": item}

```

ğŸ”¹ **Use case**: Send JSON data to create a new item

ğŸ”¹ **Body** (in Postman or code):

```json

{
  "name": "Pen",
  "price": 10.5
}

```

---

### â™»ï¸ 3. `PUT` â†’ *Update existing data*

```python

@app.put("/items/{item_id}")
def update_item(item_id: int, item: Item):
    return {"message": "Item updated", "item_id": item_id, "item": item}

```

ğŸ”¹ **Use case**: Update an item by ID

ğŸ”¹ **Body**:

```json

{
  "name": "New Pen",
  "price": 12.0
}

```

---

### âŒ 4. `DELETE` â†’ *Remove data*

```python
@app.delete("/items/{item_id}")
def delete_item(item_id: int):
    return {"message": f"Item {item_id} deleted"}

```

ğŸ”¹ **Use case**: Delete an item by ID

## ğŸ§  What is Pydantic?

**Pydantic** is a Python library used in **FastAPI** to:

- Define **data models** (like classes)
- **Validate** input data automatically
- Ensure correct types (e.g., string, int, float)

---

## ğŸ’¡ Why use Pydantic?

When an API receives data (e.g., in a POST request), we need to:

- Parse JSON into Python objects
- Make sure the fields are correct
- Validate data types

ğŸ‘‰ **Pydantic handles all that for you!**

---

## âœ… Basic Syntax

```python

from pydantic import BaseModel

class Item(BaseModel):
    name: str
    price: float
    quantity: int = 1  # Optional field with default

```

Now use this model in a FastAPI route:

```python

from fastapi import FastAPI

app = FastAPI()

@app.post("/items/")
def create_item(item: Item):
    return {"name": item.name, "total": item.price * item.quantity}

```

---

## ğŸ¯ Example JSON input:

```json

{
  "name": "Pen",
  "price": 10.5,
  "quantity": 2
}

```

**Pydantic:**

- Converts `"price": 10.5` to `float`
- Checks `"quantity"` is `int`
- If `"quantity"` is missing, uses default `1`

---

## âš ï¸ Automatic Validation Example

Try sending:

```json

{
  "name": "Pen",
  "price": "abc"
}

```

ğŸ‘‰ FastAPI + Pydantic will return:

```json

{
  "detail": [
    {
      "loc": ["body", "price"],
      "msg": "value is not a valid float",
      "type": "type_error.float"
    }
  ]
}
```

### âœ… What are Status Codes?

Status codes are **3-digit numbers** that a server sends back in response to an API request.

They tell you:

- Whether the request was successful âœ…
- If there was an error âŒ
- What kind of issue occurred ğŸ› ï¸

---

### ğŸ“š Categories of Status Codes:

| Code Range | Meaning | Example Code | Common Use |
| --- | --- | --- | --- |
| `1xx` | Informational | 100 | Continue (rarely used) |
| `2xx` | Success | 200, 201 | Everything worked fine! |
| `3xx` | Redirection | 301, 302 | Page moved, redirect to another URL |
| `4xx` | Client error | 400, 401, 404 | Problem in request from your side |
| `5xx` | Server error | 500, 503 | Problem on the server side |

---

### âœ… Commonly Used Status Codes (you must know):

| Code | Meaning | When itâ€™s used |
| --- | --- | --- |
| `200` | OK | Request was successful. Often for `GET`. |
| `201` | Created | A new resource was successfully created. For `POST`. |
| `204` | No Content | Success, but nothing to return (used in `DELETE`). |
| `400` | Bad Request | Client sent wrong data (e.g., missing fields). |
| `401` | Unauthorized | Authentication failed or not provided. |
| `403` | Forbidden | Auth is valid, but access is denied. |
| `404` | Not Found | The requested resource doesnâ€™t exist. |
| `405` | Method Not Allowed | You used wrong HTTP method (e.g., used GET instead of POST). |
| `500` | Internal Server Error | Something went wrong on the server. |

---

### ğŸš€ Example in FastAPI:

```python

from fastapi import FastAPI, HTTPException

app = FastAPI()

@app.get("/item/{item_id}")
def get_item(item_id: int):
    if item_id == 0:
        # Simulate an error
        raise HTTPException(status_code=404, detail="Item not found")
    return {"item_id": item_id}

```

If you call `/item/0`, it will return:

```json
{
  "detail": "Item not found"
}

```

with status `404 Not Found`.